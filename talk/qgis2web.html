<html lang="en">
    <head>
        <title>qgis2web: the code behind webmaps without code</title>
        <meta name="author" content="Tom Chadwin" />
        <meta charset="utf-8" />
        <link href="http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy:400,400italic" rel="stylesheet" />
        <link rel="stylesheet" href="css/qgis2web.css" />
    </head>
    <body>
        <div id="impress">
            <div id="start" class="step red" data-x="0" data-y="-1000">
                <p style="width: 810px;">
                    <img src="img/qgis2web.svg" style="padding-left: 1.65em;" /><br />
                    <strong style="padding-left: 0.25em;">qgis2web</strong>:<br />
                    <span style="padding-left: 4.45em;">the code</span><br />
                    behind <em>webmaps</em><br />
                    <span style="padding-left: 1.7em;">without code</span><br />
                
                    <div style="font-size: 200%; color: #999; padding-left: 16.75em;">@tomchadwin</div>
                </p>
                <div class="notes"><p>qgis2web converts your QGIS projects into
                        Leaflet or OpenLayers 3 webmaps. Today I'll tell you a
                        little about how it was built.</p>
                    <p>In the spirit of open source, I've abandoned Powerpoint
                        and Prezi for some open-source presentation software.
                        The downside is that I've never used it before, so apologies if
                        some of my notes accidentally appear on-screen.</p>
                    <p>What do you need to know about me?</p>
                    </div>
            </div>

            <div id="notageographer" class="step red l2" data-x="0" data-y="0">
                <p style="padding-left: 0.75em;">
                    I am <em>not</em> a<br />
                    <strong style="margin-left: 0.75em;">geographer</strong>
                </p>
                <div class="notes">I don't know how to pronounce "datum"</div>
            </div>

            <div id="notagisofficer" class="step red l3" data-x="1500" data-y="0">
                <p>
                    <span style="padding-left: 3.5em;">I am<br />
                    <em style="padding-left: 3.5em;">not</em> a</span><br />
                    <strong>GIS Officer</strong></p>
                <div class="notes">I've never opened ArcGIS</div>
            </div>
            
            <div id="notadeveloper" class="step red l3" data-x="3000" data-y="0">
                <p style="padding-left: 1.5em;">
                    <span style="padding-left: 2.25em;">I am<br />
                    <em style="padding-left: 2.25em;">not</em> a</span><br />
                    <strong>developer</strong>
                </p>
                <div class="notes">I've looked up "polymorphism" four times,
                    and I still can't remember what it means</div>
                <div class="subtext">Enough self-deprecation?</div>
            </div>
            
            <div id="heartweb" class="step red l2" data-x="0" data-y="1000">
                <p style="padding-left: 0.5em;">
                    I <em>do</em> like the<br />
                    <strong style="padding-left: 3.75em;">web</strong>
                </p>
                <div class="notes">Well, bits of it. Before I did anything to
                    do with maps, I was a web developer, and before that a web
                    designer.</div>
            </div>
            
            <div id="heartmaps" class="step red l2" data-x="1500" data-y="1000">
                <p style="padding-left: 2em;">
                    I <em>do</em> like<br />
                    <strong style="padding-left: 1.75em;">maps</strong>
                </p>
                <div class="notes">My career has taken me here by chance -
                    at Durham City Council I found out that GIS existed, and
                    now at Northumberland NP I get to work with it a tad</div>
            </div>
            
            <div id="notheartbadsoftware" class="step red l3"
                 data-x="0" data-y="2000">
                <p style="padding-left: 1.5em;">
                    <span style="padding-left: 1.4em;">I do <em>not</em><br />
                    like</span> <strong>bad</strong><br />
                    <span style="padding-left: 0.4em;">software</span>
                </p>
                <div class="notes">I do not like bad software
                    <strong>at all</strong>. I <strong>really</strong> don't
                    like bad software.</div>
            </div>

            <div id="nationalpark" class="step blue l3" data-x="4500" data-y="0">
                <p>
                    <span style="padding-left: 1.38em;">I <em>work</em></span><br />
                    <span style="padding-left: 1.5em;">for a</span><br />
                    <strong>National Park</strong></p>
                <div class="notes">The work I do is technical, but the beneficiary
                    of my work (or "victim") is a cause in which I believe.</div>
            </div>

            <div id="ieg" class="step blue l3" data-x="6000" data-y="0">
                <p>
                    15 years ago, <em style="padding-left: 0.25em;">government</em>
                    told us to make <strong>webmaps</strong>
                </p>
                <div class="notes">&hellip;and they paid us a <strong>lot</strong>
                    of money to do so. When I joined Durham City Council there
                    was money for Implementing eGovernment (IEG), and for
                    online planning. The success of online planning was judged by
                    how many Pendleton points you got. And Pendleton points
                    make Pendleton prizes. What do Pendleton points make? In
                    this case, as it turned out, the
                    abolition of Durham City Council.</div>
            </div>

            <div id="mapinfo" class="step blue l2" data-x="7500" data-y="0">
                <p><span style="padding-left: 3em;">We had</span><br /><em>Map
                    </em><strong>Info</strong>&hellip;</p>
                <div class="notes">Anybody here remember MapInfo?</div>
            </div>

            <div id="pdfs" class="step blue l2" data-x="9000" data-y="0">
                <p>
                    &hellip;and <em>lots</em><br />
                    <span style="padding-left: 3.25em;">of <strong>PDFs</strong></span>
                </p>
                <div class="notes">Lots of PDFs of maps. Seriously.
                    <strong>Lots</strong>.</div>
            </div>

            <div id="nationalparks" class="step blue l3" data-x="4500" data-y="1000">
                <p>
                    <span style="padding-left: 1.13em;">National</span><br />
                    <span style="padding-left: 2em;">Parks</span><br />
                    <strong>work together</strong>
                </p>
                <div class="notes">&hellip;occasionally</div>
            </div>

            <div id="mapxtreme" class="step blue l2" data-x="6000" data-y="1000">
                <p>
                    <span style="padding-left: 2.63em;">They <em>bought</em></span><br />
                    <strong>MapXtreme</strong>&hellip;
                </p>
                <div class="notes">Anybody here remember MapXtreme?</div>
                <div class="subtext">Emphasize the pronoun &ldquo;they&rdquo;,<br />
                not &ldquo;we&rdquo;.</div>
            </div>

            <div id="expense" class="step blue l2" data-x="7500" data-y="1000">
                <p>
                    &hellip;at <em>vast</em><br />
                    <strong style="padding-left: 2em;">expense</strong>
                </p>
                <div class="notes">...but that was fine, because that central
                    government money covered it.</div>
            </div>

            <div id="broke" class="step blue l2" data-x="4500" data-y="2000">
                <p>
                    But the <em>money</em><br />
                    <strong style="padding-left: 2.25em;">ran out</strong>&hellip;
                </p>
                <div class="notes">But, global financial catastrophe</div>
                <div class="subtext">Bankers.</div>
            </div>

            <div id="whattodo" class="step blue l2" data-x="6000" data-y="2000">
                <p><em>so</em> we<br /><strong style="padding-left: 0.8em;">tried</strong>&hellip;</p>
                <div class="notes"></div>
            </div>

            <div id="opensource" class="step green l2" data-x="5250"
                 data-y="2000" data-z="-3000">
                <p>
                    <em style="padding-left: 2em;">open</em><br />
                    <strong style="padding-left: 2.75em;">source</strong>
                </p>
                <div class="notes">I could go on at very, very great length
                    about open-source versus proprietary, but you've all chosen
                    to come to an open source conference, so I'll leave
                    preaching to the converted where it belongs. Twitter.</div>
            </div>

            <div id="mgos" class="step green l2" data-x="5250"
                 data-y="3000" data-z="-3000">
                <p><img src="img/mgos.gif" width="406" style="padding-left: 2em;" /></p>
                <div class="notes">First tried MGOS at NNPA, A brilliant
                    monolithic web GIS, combining server application, viewer,
                    and editing environment. Cross-platform, API bindings for
                    multiple languages (.NET, Java, PHP). Wonderful. But,
                    full-stack, so not everyone's cup of tea, so&hellip;</div>
            </div>

            <div id="mapbuilder" class="step green l4" data-x="6750"
                 data-y="3000" data-z="-3000">
                <p>
                    <img src="img/postgis.svg" style="padding-left: 0.5em; float: left;" /><br />
                    <img src="img/geoserver.png" /><br />
                    <img src="img/ol2.png" style="padding-left: 3em;" />
                </p>
                <div class="subtext">I hope they don't notice I can't
                get those logos to arrange nicely</div>
                <div class="notes"><p>Meanwhile, the NPs commissioned an open-
                    source online GIS from contractors: the now traditional FOSS4G spatial
                    stack. Nearly wonderful, but missed the mark in crucial ways:
                        <ul>
                            <li>form-based</li>
                            <li>difficult to maintain (eg GeoServer and PostGIS
                                data out of sync, command-line ogr2ogr)</li>
                            <li>we had no in-house knowledge of technologies</li>
                            <li>told by developer not to upgrade the component
                                parts</li>
                            <li>written for us, and while devs' intention was to
                                get others to use it, only ever really used by
                                us, therefore:
                                <ul style="list-style-type: disc;">
                                    <li>no wider use</li>
                                    <li>no support</li>
                                    <li>no growth</li>
                                    <li>no momentum</li>
                                    <li>no community</li>
                                </ul></li>
                        </ul></p>
                </div>
            </div>

            <div id="qgis" class="step green" data-x="5250"
                 data-y="4000" data-z="-3000">
                <p><img src="img/qgis.svg" /></p>
                <div class="notes">Meanwhile, QGIS started to replace MapInfo -
                    completely at NNPA several years ago - never looked back.
                    Probably the best open-source software I've ever come
                    across - not just geospatial. No web export, but supports
                    plugins, including:</div>
            </div>

            <div id="qgis2leaf" class="step green l1" data-x="6750"
                 data-y="4000" data-z="-3000">
                <p><em>qgis</em>2<strong>leaf</strong></p>
                <div class="notes">Exports your QGIS project to Leaflet. Written
                    by Riccardo Klinger (of Geolicious, and the
                    digital-geography.com blog many of you will know). I
                    contributed a lot to get it to do what we needed (eg WFS
                    layers, British National Grid). Problem was&hellip;</div>
            </div>

            <div id="codequality" class="step green l3" data-x="8250"
                 data-y="4000" data-z="-3000">
                <p><img src="img/codequalityxkcd.png" /></p>
                <div class="notes">&hellip;Riccardo and I were both beginners
                    (HT: xkcd.com)</div>
            </div>

            <div id="qgis-ol3" class="step green l1" data-x="9750"
                 data-y="4000" data-z="-3000">
                <p><em>qgis</em>-<strong>ol3</strong></p>
                <div class="notes">At about the same time, qgis-ol2 appeared, by
                    Victor Olaya (author of QGIS Processing).
                    With preview window, layer groups. In stark contrast to
                    qgis2leaf, it was extremely well coded.</div>
            </div>

            <div id="qgis2web" class="step yellow l3" data-x="9750" data-y="4000"
                 data-z="-4000" data-rotate-x="90" data-rotate-z="90">
                <p>
                    <img src="img/qgis2web.svg" style="padding-left: 1.4em;" /><br />
                    <em>qgis</em>2<strong>web</strong>
                </p>
                <div class="notes"><p>Paolo Cavallini (QGIS PSC) pointed out
                    that having two such similar QGIS plugins with completely
                    different UIs was unhelpful to the end user. He therefore
                    proposed a merger of the two plugins.
                    Riccardo and Victor agreed, I took it on.</p>
                    <p>qgis2web makes webmaps by extracting information from
                    QGIS and writing it out as HTML, CSS, and JS.</p>
                    <p>What did I have to learn in order to build it?</p></div>
            </div>

            <div id="api" class="step yellow l2" data-x="8750" data-y="4000"
                 data-z="-4000" data-rotate-x="90" data-rotate-z="90">
                <img src="img/qgisapi.png" />
                <div class="notes">The QGIS API. I had experience of working
                    with other APIs (MGOS, Livelink CMS), but QGIS has the best
                    I've come across.</div>
                <div class="subtext">Remember, Chadwin: not everyone shares
                    your enthusiasm for APIs</div>
            </div>

            <div id="python" class="step yellow l2" data-x="8750" data-y="4000"
                 data-z="-2500" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/python.svg" /></p>
                <div class="notes">Never used it, but I'd heard of it&hellip;</div>
            </div>

            <div id="pythonxkcd" class="step yellow l4" data-x="8750"
                 data-y="4000" data-z="-1000" data-rotate-x="90"
                 data-rotate-z="90">
                <p><img src="img/pythonxkcd.png" /></p>
                <div class="notes">HT: xkcd.com</div>
            </div>

            <div id="js" class="step yellow" data-x="7750" data-y="4000"
                 data-z="-4000" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/js.png" /></p>
                <div class="notes">Had coded little bits of JS for years, and
                    some bigger bits and pieces (EGMS XML parser and selection
                    tool which is about as exciting as it sounds, and a
                    standards-compliant web-based rich-text editor and CMS).</div>
                <div class="subtext">If one more<br />person suggests using jQuery,
                    I shall scream</div>
            </div>

            <div id="ol3" class="step yellow l3" data-x="7750" data-y="4000"
                 data-z="-2500" data-rotate-x="90" data-rotate-z="90">
                <p>
                    <img src="img/ol.svg" style="padding-left: 3em;" /><br />
                    <strong>OpenLayers 3</strong>
                </p>
                <div class="notes">Much slicker than our old OL2</div>
                <div class="subtext">I'm starting to<br />regret that choice of
                    text colour</div>
            </div>

            <div id="leaflet" class="step yellow l4" data-x="7750" data-y="4000"
                 data-z="-1000" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/leaflet.svg" /></p>
                <div class="notes">Simpler, leaner. All of this I knew in
                advance I had to start learning. But there's more&hellip;</div>
            </div>

            <div id="qt" class="step yellow" data-x="6750" data-y="4000"
                 data-z="-4000" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/qt.svg" /></p>
                <div class="notes">Initially baffled, as had never heard of it.
                    When I heard "Nokia Qt", my first thoughts were:</div>
            </div>

            <div id="nokia" class="step yellow l6" data-x="6750" data-y="4000"
                 data-z="-2500" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/nokia8210.png" /></p>
                <div class="notes">Nokia. That was a great phone</div>
            </div>

            <div id="typhoo" class="step yellow l8" data-x="6750" data-y="4000"
                 data-z="-1000" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/typhooqt.png" /></p>
                <div class="notes"><p>QT. Although 100% not a tea drinker, I did code
                    a full-screen Flash website for Typhoo about 16 years ago.
                    It had sound files of my accomplished chicken impression.</p>
                    <p>Qt is in fact a rather splendid cross-platform framework
                    for building GUIs and accessing filesystems and networks.</p>
                </div>
            </div>

            <div id="github" class="step yellow l7" data-x="5750" data-y="4000"
                 data-z="-4000" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/github.png" /></p>
                <div class="notes">So that's what I had to code in, but I also
                    had to find out how working on open-source
                    code works. I am no expert in Git and Github - but it's not that difficult, and
                    wonderfully flexible. I'm sure those of you who went to Jo's
                    workshop will agree.</div>
            </div>

            <div id="stacktrace" class="step yellow l5" data-x="5750"
                 data-y="4000" data-z="-2500" data-rotate-x="90"
                 data-rotate-z="90">
                <p><img src="img/stacktrace.png" /></p>
                <div class="notes">Had to learn how to read a stack trace,
                    which had always rather mystified me (see GeoServer's
                    Tolstoy-like ones which scroll off into the distance like
                    the Star Wars intro). Speaking of stack traces&hellip;</div>
            </div>

            <div id="noseagulls" class="step yellow l8" data-x="5750"
                 data-y="4000" data-z="-1000" data-rotate-x="90"
                 data-rotate-z="90">
                <p><img src="img/noseagulls.png" /></p>
                <div class="notes">Sometimes code fails. Because of small
                    user-base, and tiny developer-base, sometimes such failures
                    crept into qgis2web releases. I told you that I don't like bad
                    software. I <strong>really</strong> don't like bad
                    software that I can't blame on anyone else.</div>
            </div>

            <div id="travis" class="step yellow" data-x="4750" data-y="4000"
                 data-z="-4000" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/travis.png" /></p>
                <div class="notes">But, it turns out that you can write code to test
                    your code. Actually writing such tests for the first time
                    has been an eye-opener. Then you add automated testing -
                    continuous integration, eg Travis. This is the silver bullet for
                    improving on the quality of software.</div>
            </div>

            <div id="buildhistory" class="step yellow l8" data-x="4750"
                 data-y="4000" data-z="-2500" data-rotate-x="90"
                 data-rotate-z="90">
                <p><img src="img/buildhistory.png" /></p>
                <div class="notes"><p>Automatically tests every Github commit and
                PR against QGIS LTR, current, and nightly. Here you can see 
                that top commit - coincidentally one which adds "NO JQUERY" to
                the development docs - passed.</p>
                <p>But the tests you
                write might miss certain combinations of options a user might
                select in the software, especially if your software is not 
                quite as modular as it should be. So&hellip;</p></div>
            </div>

            <div id="coveralls" class="step yellow" data-x="4750" data-y="4000"
                 data-z="-1000" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/coveralls.png" /></p>
                <div class="notes">Code coverage: The logical conclusion
                    of CI. Automatic detection and reporting of how many lines
                    of your codebase are called by your test suite.</div>
            </div>

            <div id="coverage" class="step yellow" data-x="4750" data-y="4000"
                 data-z="500" data-rotate-x="90" data-rotate-z="90">
                <p><img src="img/coverage.png" /></p>
                <div class="notes"><p>Must try harder: list of tests still needed
                    is in the README.</p>
                    <p>And there has been more to learn:
                    <ul>
                        <li>getting the hang of StackExchange to ask technical
                            questions</li>
                        <li>shouting about qgis2web on social media</li>
                        <li>specifically, getting people to move from qgis2leaf
                            to qgis2web - very hard work</li>
                    </ul></p>
                    <p>All of this has been first-hand evidence for me of a
                        software truism I heard more than 15 years ago: if you
                        write code, even if people use it, that's all it is -
                        code. Only when you add
                        eg documentation, tests, support, and marketing, does
                        it become <strong>software</strong>.</p>
                    <p>So what has qgis2web been used for?</p>
                <p></div>
            </div>

            <div id="naturalprocesses" class="step yellow" data-x="9750"
                 data-y="4000" data-z="4000" data-rotate-x="90"
                 data-rotate-y="90">
                <iframe src="http://naturalprocesses.jbahosting.com/" width="1024" height="768"></iframe>
                <div class="notes">Nature-based flood risk management projects</div>
                <div class="subtext">I <em>really</em> hope the wifi holds
                    up</div>
            </div>

            <div id="romejubilee" class="step yellow" data-x="9750" data-y="5500"
                 data-z="4000" data-rotate-x="90" data-rotate-y="90">
                <iframe src="http://www.romaperilgiubileo.gov.it/cms/en/homepage.page;jsessionid=JxTjF-l0wMfbOj4YXRphAWnY" width="1024" height="768"></iframe>
                <div class="notes">Jubilee in Rome - nice to see a qgis2web
                    map being integrated into the visual design of a site</div>
            </div>

            <div id="bencarson" class="step yellow" data-x="9750" data-y="7000"
                 data-z="4000" data-rotate-x="90" data-rotate-y="90">
                <iframe src="http://bencarsonfortexas.org/intermap/USCountyContacts/#5/36.915/-95.076" width="1024" height="768"></iframe>
                <div class="notes">Committee to elect Ben Carson for Republican
                    presidential nominee</div>
                <div class="subtext">Don't mention that his campaign
                    tanked</div>
            </div>

            <div id="montrealsewage" class="step yellow" data-x="9750" data-y="8500"
                 data-z="4000" data-rotate-x="90" data-rotate-y="90">
                <iframe src="http://www.cbc.ca/news/canada/montreal/montreal-s-sewage-dump-saga-explained-in-5-key-points-1.3263739" width="1024" height="768"></iframe>
                <div class="notes">Montreal sewage dumping scandal - great to
                    see qgis2web being usd by journalists, and this map was
                    reused across many Canadian news sites.</div>
                <div class="subtext">Perhaps using effluent as an example
                wasn't a great idea</div>
            </div>

            <div id="croatianbrownbears" class="step yellow" data-x="9750" data-y="10000"
                 data-z="4000" data-rotate-x="90" data-rotate-y="90">
                <iframe src="https://www.rewildingeurope.com/blog/being-an-intern-at-rewilding-europe/" width="1024" height="768"></iframe>
                <div class="notes">Rewilding in Croatia - brown bears</div>
            </div>

            <div id="why" class="step orange l2" data-x="9750" data-y="11500"
                 data-z="4000">
                <p><strong>Why</strong> do<br />
                <em style="padding-left: 3em;">all</em> this?</p>
                <div class="notes">Hopefully it's useful to some people, but
                also&hellip;</div>
            </div>

            <div id="fun" class="step orange l2" data-x="11250" data-y="11500"
                 data-z="4000">
                <p><em>It's</em><br /><strong style="padding-left: 0.32em;">fun</strong>!</p>
                <div class="notes">Working with APIs is fun.
                Joining multiple APIs is great fun.</div>
                <div class="subtext">As if &ldquo;fun&rdquo;<br />wasn't tragic enough, you're talking enthusiastically about APIs<br />again.</div>
            </div>

            <div id="rewards" class="step orange l2" data-x="9750" data-y="12500"
                 data-z="4000">
                <p><em style="padding-left: 0.38em;">What</em> are the <strong>rewards</strong>?
                <div class="notes">Speaking personally&ellip;</div>
            </div>

            <div id="praise" class="step orange l4" data-x="11250" data-y="12500"
                 data-z="4000">
                <img src="img/amazeballs.png" />
                <div class="notes">The praise of the praiseworthy is above all
                rewards - thank you, Charley</div>
            </div>

            <div id="pride" class="step orange l8" data-x="12750" data-y="12500"
                 data-z="4000">
                <img src="img/projeteof.jpg" />
                <div class="notes"><p>It's used for something important: Projet
                Espace OpenStreetMap Francophone - Ivory Coast and Benin, with
                OpenStreetMappers from:
                <ul>
                    <li>Togo</li>
                    <li>Burkina-Faso</li>
                    <li>Mali</li>
                    <li>Niger</li>
                    <li>Senegal</li> 
                </ul></p>
                <p>Thanks to Nicolas Chavent for the pic and the story</p></div>
            </div>

            <div id="credits" class="step orange l2" data-x="9750" data-y="13500"
                 data-z="4000">
                <p><strong>Credit</strong> where<br /><span style="padding-left: 2.19em;">it's <em>due</em></span></p>
                <div class="notes"><ul>
                    <li>QGIS, Leaflet, OpenLayers</li>
                    <li>Riccardo Klinger, Victor Olaya, Luca Casagrande</li>
                    <li>Contributors: Matt Walker from Astun here today,
                    Akbar Gumbira, Ed Boesenberg</li>
                    <li>QGIS dev list/Gitter: Matthias Kuhn, Nathan Woodrow,
                    Nyall Dawson</li>
                    <li>National Parks, including my own, and Matt Travis here
                    today from Dartmoor</li>
                    <li>Users/bugspotters</li>
                    <li>FOSS4GUK and its volunteers</li>
                </ul></div>
            </div>

            <div id="thanks" class="step orange l2" data-x="9750" data-y="13500"
                 data-z="4000">
                <p><strong>Thank</strong><br /><em style="padding-left: 2em;">you</em>
                <div class="notes">
                <p>Come and learn how to use qgis2web in the workshop tomorrow.
                Come and help document it, test it, fix it, or add to it at the
                code sprint on Thursday.</p>
                <p>Questions?</p></div>
                <div class="subtext">* applause *</div>
            </div>
        </div>
        <script src="js/impress.js"></script>
        <script src="js/impressConsole.js"></script>
        <script type="text/javascript">
            impress().init();
            impressConsole().init();
        </script>
    </body>
</html>